<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2017/2 | CP WRITINGS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="CP WRITINGS">
<meta property="og:url" content="http://cp0000.github.io/archives/2017/02/">
<meta property="og:site_name" content="CP WRITINGS">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CP WRITINGS">
<meta name="twitter:description">

  
    <link rel="alternative" href="/atom.xml" title="CP WRITINGS" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">CP WRITINGS</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-home-icon" class="nav-icon" href="/"></a>
        
          <a id="nav-archives-icon" class="nav-icon" href="/archives"></a>
        
          <a id="nav-about-icon" class="nav-icon" href="/about/index.html"></a>
        
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
      </nav>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-GLSL-Dictionary" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
      <header class="article-header">
        
  
    <a class="article-title" href="/2017/02/26/GLSL-Dictionary/">Learning OpenGL：GLSL Shader 手册</a>
  

      </header>
    
    <time class="article-date" datetime="2017-02-26T06:26:08.000Z" itemprop="datePublished">02-26-2017</time>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="基本类型">基本类型</h2>
<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>void</td>
<td>空类型</td>
</tr>
<tr>
<td>bool</td>
<td>布尔类型</td>
</tr>
<tr>
<td>int</td>
<td>带符号的整数 signed integer</td>
</tr>
<tr>
<td>float</td>
<td>带符号的浮点数 floating scalar</td>
</tr>
<tr>
<td>vec2,vec3,vec4</td>
<td>n维浮点数向量 n-component floating point vector</td>
</tr>
<tr>
<td>bvec2,bvec3,bvec4</td>
<td>n维整数向量 singed integer vector</td>
</tr>
<tr>
<td>bvec2,bvec3,bvec4</td>
<td>n维布尔向量 boolean vector</td>
</tr>
<tr>
<td>ivec2,ivec3,ivec4</td>
<td>n维整数向量 singed integer vector</td>
</tr>
<tr>
<td>mat2,mat3,mat4</td>
<td>2X2,3X3,4X4 浮点数矩阵 float matrix</td>
</tr>
<tr>
<td>sampler2D</td>
<td>2D 纹理  a 2D texture</td>
</tr>
<tr>
<td>samplerCube</td>
<td>盒纹理  cube mapped texture</td>
</tr>
</tbody>
</table>
<h2 id="基本结构和数组">基本结构和数组</h2>
<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>结构</td>
<td>struct type-name{} 类似c语言中的结构体</td>
</tr>
<tr>
<td>数组</td>
<td>float foo3[] glsl 只支持1维数组，数组可以是结构体的成员</td>
</tr>
</tbody>
</table>
<h2 id="内置的特殊变量">内置的特殊变量</h2>
<p>glsl程序使用一些特殊的内置变量与硬件进行沟通。大致分成<code>input</code>,<code>output</code>两种类型，<code>input</code>类型，负责向硬件（渲染管线）发送数据，<code>output</code>类型负责向程序回传数据。</p>
<ul>
<li>在vertex shader中</li>
</ul>
<p>output 类型的内置变量：</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>说明</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>highp vec4 gl_Position;</td>
<td>gl_Position 放置顶点坐标信息</td>
<td>vec4</td>
</tr>
<tr>
<td>mediump float gl_Pointsize;</td>
<td>gl_PointSize 需要绘制点的大小（只在gl.POINTS模式下有效）</td>
<td>float</td>
</tr>
</tbody>
</table>
<ul>
<li>在fragment Shader中：</li>
</ul>
<p>input 类型的内置变量：</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>说明</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>mediump vec4 gl_FragCoord;</td>
<td>片元在fragmebuffer画面的相对位置</td>
<td>vec4</td>
</tr>
<tr>
<td>bool gl_FrontFacing</td>
<td>标志当前图元是不是正面图元的一部分</td>
<td>bool</td>
</tr>
<tr>
<td>mediump vec2 gl_PointCoord;</td>
<td>经过插值计算后的纹理坐标，点的范围是0.0到1.0</td>
<td>vec2</td>
</tr>
</tbody>
</table>
<p>output 类型的内置变量：</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>说明</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>mediump vec4 gl_FragColor;</td>
<td>设置当前片点的颜色</td>
<td>vec4</td>
</tr>
<tr>
<td>mediump vec4 gl_FragData[n];</td>
<td>设置当前片点的颜色,使用glDrawBuffers数据数组</td>
<td>vec4</td>
</tr>
</tbody>
</table>
<h2 id="内置函数库">内置函数库</h2>
<h3 id="通用函数">通用函数</h3>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>T abs(T x)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td>T sign(T x)</td>
<td>比较x与0的值，大于，等于，小于 分别返回 1.0, 0.0, -1.0</td>
</tr>
<tr>
<td>T floor(T x)</td>
<td>返回 &lt;= x 的最大整数</td>
</tr>
<tr>
<td>T ceil(T x)</td>
<td>返回 &gt;= x 的最小整数</td>
</tr>
<tr>
<td>T fract(T x)</td>
<td>返回 x 的小数部分</td>
</tr>
<tr>
<td>T mod(T x,T y) T mod(T x,float y)</td>
<td>取 x,y 的余数</td>
</tr>
<tr>
<td>T min(T x,T y) T min(T x,float y)</td>
<td>取 x,y 的最小值</td>
</tr>
<tr>
<td>T max(T x,T y) T max(T x,float y)</td>
<td>取 x,y 的最大值</td>
</tr>
<tr>
<td>T clamp(T x,T minVal, T maxVal) T clamp(T x,float minal, float maxVal)</td>
<td>min ( max (x, minVal), maxVal)，返回值限定在minVal,maxVal之间</td>
</tr>
<tr>
<td>T mix(T x,T y, T a) T mix(T x,T y, float a)</td>
<td>取 x,y 的线性混合，x(1-a)+ya</td>
</tr>
<tr>
<td>T step(T edge,T x) T step(float edge,T x)</td>
<td>if x &lt; edge返回0.0， 否则返回1.0</td>
</tr>
<tr>
<td>T smoothstep(T edge,T edge1, T x) T smoothstep(float edge0, float edge1,T x)</td>
<td>if x &lt; edge0返回 0.0，if x &gt; edge1返回1.0， 否则返回Hermite插值</td>
</tr>
</tbody>
</table>
<h3 id="角度&amp;三角函数">角度&amp;三角函数</h3>
<p>下文中的类型T可以是float, vec2, vec3, vec4且可以逐分量操作.</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>T radinans(T degrees)</td>
<td>角度转弧度</td>
</tr>
<tr>
<td>T degrees(T radians)</td>
<td>弧度转角度</td>
</tr>
<tr>
<td>T sin(T angle)</td>
<td>正弦函数</td>
</tr>
<tr>
<td>T cos(T angle)</td>
<td>余弦函数</td>
</tr>
<tr>
<td>T tan(T angle)</td>
<td>正切函数</td>
</tr>
<tr>
<td>T asin(T angle)</td>
<td>反正弦函数</td>
</tr>
<tr>
<td>T acos(T angle)</td>
<td>反余弦函数</td>
</tr>
<tr>
<td>T atan(T y, T x) T atan(T y_over_x)</td>
<td>反正切函数</td>
</tr>
</tbody>
</table>
<h3 id="指数函数">指数函数</h3>
<p>下文中的类型T可以是float, vec2, vec3, vec4且可以逐分量操作.</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>T pow(T x, T y)</td>
<td>返回x的y次幂 </td>
</tr>
<tr>
<td>T exp(T x)</td>
<td>返回x的自然指数幂 </td>
</tr>
<tr>
<td>T log(T x)</td>
<td>返回x的自然对数 ln</td>
</tr>
<tr>
<td>T exp2(T x)</td>
<td>返回2的x次幂</td>
</tr>
<tr>
<td>T log2(T x)</td>
<td>返回2位低的对数 log2</td>
</tr>
<tr>
<td>T sqrt(T x)</td>
<td>开根号 √x</td>
</tr>
<tr>
<td>T inversesqrt(T x)</td>
<td>先开根号，在取倒数，</td>
</tr>
</tbody>
</table>
<h3 id="几何函数">几何函数</h3>
<p>下文中的类型T可以是float, vec2, vec3, vec4且可以逐分量操作.</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>float length(T x)</td>
<td>返回矢量x的长度</td>
</tr>
<tr>
<td>float distance(T p0,T p1)</td>
<td>返回p0, p1两点的距离</td>
</tr>
<tr>
<td>float dot(T x,T y)</td>
<td>返回x y 的点积</td>
</tr>
<tr>
<td>vec3 cross(vec3 x,vec3 y)</td>
<td>返回x y 的叉积</td>
</tr>
<tr>
<td>vec3 normalize(T y)</td>
<td>对x进行归一化，保持向量方向不变但长度变为1</td>
</tr>
<tr>
<td>vec3 faceforward(T N, T I, T Nref)</td>
<td>根据 矢量 N 与Nref 调整法向量</td>
</tr>
<tr>
<td>vec3 reflect(T I, T N)</td>
<td>返回 I - 2 <em> dot(N,I) </em> N, 结果是入射矢量 I 关于法向量N的 镜面反射矢量</td>
</tr>
<tr>
<td>vec3 normalize(T I, T N, float eta)</td>
<td>返回入射矢量I关于法向量N的折射矢量,折射率为eta</td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cp0000.github.io/2017/02/26/GLSL-Dictionary/" data-id="nq7knvk1wg70zqsp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Pei Cheng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/script.js" type="text/javascript"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63703524-1', 'auto');
  ga('send', 'pageview');

</script>
  </div>
</body>
</html>