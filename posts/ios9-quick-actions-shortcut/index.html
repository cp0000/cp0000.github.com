<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>3D-Touch(1) iOS9 Quick Actions Shortcut | CP0000 - 一只特立独行的猪</title>
<meta name="keywords" content="">
<meta name="description" content="新的iPhone6s, iPhone6s P 在不久之前的 WWDC 上面发布了，这个版本的iPhone最大的卖点应该是在它的屏幕拥有了 3D Touch 的功能。iOS 9 中已经包含了这">
<meta name="author" content="">
<link rel="canonical" href="https://cp0000.github.io/posts/ios9-quick-actions-shortcut/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css" integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe&#43;FVUFzPh7U=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://cp0000.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://cp0000.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://cp0000.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://cp0000.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://cp0000.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SHC2G67ZSX"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-SHC2G67ZSX', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="3D-Touch(1) iOS9 Quick Actions Shortcut" />
<meta property="og:description" content="新的iPhone6s, iPhone6s P 在不久之前的 WWDC 上面发布了，这个版本的iPhone最大的卖点应该是在它的屏幕拥有了 3D Touch 的功能。iOS 9 中已经包含了这" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cp0000.github.io/posts/ios9-quick-actions-shortcut/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-09-30T19:24:13+00:00" />
<meta property="article:modified_time" content="2015-09-30T19:24:13+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="3D-Touch(1) iOS9 Quick Actions Shortcut"/>
<meta name="twitter:description" content="新的iPhone6s, iPhone6s P 在不久之前的 WWDC 上面发布了，这个版本的iPhone最大的卖点应该是在它的屏幕拥有了 3D Touch 的功能。iOS 9 中已经包含了这"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://cp0000.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "3D-Touch(1) iOS9 Quick Actions Shortcut",
      "item": "https://cp0000.github.io/posts/ios9-quick-actions-shortcut/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "3D-Touch(1) iOS9 Quick Actions Shortcut",
  "name": "3D-Touch(1) iOS9 Quick Actions Shortcut",
  "description": "新的iPhone6s, iPhone6s P 在不久之前的 WWDC 上面发布了，这个版本的iPhone最大的卖点应该是在它的屏幕拥有了 3D Touch 的功能。iOS 9 中已经包含了这",
  "keywords": [
    
  ],
  "articleBody": "新的iPhone6s, iPhone6s P 在不久之前的 WWDC 上面发布了，这个版本的iPhone最大的卖点应该是在它的屏幕拥有了 3D Touch 的功能。iOS 9 中已经包含了这一硬件功能所提供API，3D Touch API分成三个部分: Quick Actions， peek and pop,以及 Pressure Sensitivity.考虑到苹果的一贯作风，如果你的APP中集成iPhone的新特性，新的API，被苹果商店推荐的概率也会增大一点。本文将为大家介绍如何快速的添加 Quick Actions shortcut 功能。\nHome Screen Quick Actions 通过主屏幕的应用icon，可以用 3D Touch 呼出一个快捷列表，用户可通过这个列表快速定位应用功能模块。iOS9提供了两种屏幕标签，分别是静态标签和动态标签。且iOS9最多展示四个快捷键给用户，系统会优先展示静态的快捷键，当静态的快捷键不够四个，会添加动态的快捷键到列表。\n静态快捷键的添加 打开 Info.plist, 在该文件中添加如下键值：\n添加一个key为UIApplicationShortcutItems的数组，数组中添件的元素就是静态标签，每个标签我们可以配置下面的键值：\nUIApplicationShortcutItemType (required) : 快捷标签的唯一字符串标示 UIApplicationShortcutItemTitle (required): 快捷标签的标题，会显示在UI上 UIApplicationShortcutItemSubtitle (optional): 副标题，会显示在UI上 UIApplicationShortcutItemIconType (optional): 系统提供的icon，全部列表 UIApplicationShortcutIcon_Class UIApplicationShortcutItemIconFile (optional): 自定义icon（如果填写了该项，则系统自动ignore UIApplicationShortcutItemIconType）。图片需要时正方形的，3535的倍数（试过100100也是Ok的），并且单色。 UIApplicationShortcutItemUserInfo (optional): 传值用 详情请看这里\n当在Info.plist 中添加好了需要的标签之后。运行程序便可得到以下效果：\nP.S 关于如何在模拟器中调试ShortCutMenu，请见文章最后一节模拟器上测试Shortcut。\n动态标签的添加 所谓动态标签，就是我们可以通过代码来添加标签，相关的类有：\nUIApplicationShortcutItem 3DTouch标签的类 UIApplicationShortcutIcon 标签中图片Icon的类 响应标签的行为 当点击标签进入应用时，我们需要在代码对不同标签的做处理。在iOS 9 中，UIApplicationDelegate 新增了方法：\n- (void) application:(UIApplication *)application performActionForShortcutItem:(UIApplicationShortcutItem *)shortcutItem completionHandler:(void (^)(BOOL))completionHandler 当通过标签进入APP时，appdelegate中会回调到这个函数。当你处理完了标签需要做的工作之后，需要执行 completionHandler。\n这里有一个地方需要特别注意一下，用户按下标签进入应用要分成两种状况：启动APP，APP从后台回到前台。你需要在 application:didFinishLaunchingWithOptions: 或 application:willFinishLaunchingWithOptions: 中的一个去检查字典 launchOptions 中是否包含了UIApplicationLaunchOptionsShortcutItemKey。如果有这个key，则表示是启动app。你需要在此时设置好APP的view层级，并且为 application:willFinishLaunchingWithOptions: 返回 false。这样就可以阻止 application(_:performActionForShortcutItem:completionHandler:) 被调用，避免标签处理逻辑被处理两次。\n以下是 sample code (Objective_c)，demo 放在github上面shortcutDemo\n另外苹果官方提供了 swift 的sample code\n#import \"AppDelegate.h\" @interface AppDelegate () @property (nonatomic, retain) UIApplicationShortcutItem * launchedShortcutItem; @end @implementation AppDelegate - (BOOL) handledShortCutItem: (UIApplicationShortcutItem *) shortcutItem { BOOL handled = NO; if (!shortcutItem.type) return NO; if (![shortcutItem.type isKindOfClass:[NSString class]]) return NO; UIAlertController * alertController = [UIAlertController alertControllerWithTitle:@\"Shortcut Handled\" message:shortcutItem.localizedTitle preferredStyle: UIAlertControllerStyleAlert]; UIAlertAction *alertAction = [UIAlertAction actionWithTitle:@\"OK\" style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) { }]; [alertController addAction: alertAction]; [self.window.rootViewController presentViewController: alertController animated: YES completion:nil]; return handled; } - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions { // Override point for customization after application launch. // Dynamic Shortcuts UIApplicationShortcutIcon * addIcon = [UIApplicationShortcutIcon iconWithType: UIApplicationShortcutIconTypeAdd];//Icons should be square, single color, UIApplicationShortcutItem * addItem = [[UIApplicationShortcutItem alloc]initWithType: @\"add\" localizedTitle: @\"Add\" localizedSubtitle: nil icon: addIcon userInfo: nil]; [UIApplication sharedApplication].shortcutItems = @[addItem]; BOOL shouldPerformAdditionalDelegateHandling = YES; if (launchOptions[UIApplicationLaunchOptionsShortcutItemKey]) { UIApplicationShortcutItem * shortcutItem = launchOptions[UIApplicationLaunchOptionsShortcutItemKey]; self.launchedShortcutItem = shortcutItem; // This will block \"performActionForShortcutItem:completionHandler\" from being called. shouldPerformAdditionalDelegateHandling = NO; } return shouldPerformAdditionalDelegateHandling; } - (void)applicationWillEnterForeground:(UIApplication *)application { } - (void)applicationDidBecomeActive:(UIApplication *)application { if(!self.launchedShortcutItem) { return; } [self handledShortCutItem: self.launchedShortcutItem]; self.launchedShortcutItem = nil; } - (void) application:(UIApplication *)application performActionForShortcutItem:(UIApplicationShortcutItem *)shortcutItem completionHandler:(void (^)(BOOL))completionHandler { BOOL result = [self handledShortCutItem: shortcutItem]; completionHandler(result); } @end 模拟器上测试Shortcuts Xcode7.0 的模拟器是没办法之间触发出 3D Touch 事件的，好在有人开发出了插件SBShortcutMenuSimulator.实用也很简单，只需要follow readme 中的 usage 便可。以下摘录\ngit clone https://github.com/DeskConnect/SBShortcutMenuSimulator.git cd SBShortcutMenuSimulator make xcrun simctl spawn booted launchctl debug system/com.apple.SpringBoard --environment DYLD_INSERT_LIBRARIES=$PWD/SBShortcutMenuSimulator.dylib xcrun simctl spawn booted launchctl stop com.apple.SpringBoard echo 'com.apple.mobilecal' | nc 127.0.0.1 8000 ‘com.apple.mobilecal’ 替换成你需要测试的app的bundle就可以了，例如我的是 chengpei.shortcutDemo\necho 'chengpei.shortcutDemo' | nc 127.0.0.1 8000 上面的命令全都在clone的SBShortcutMenuSimulator目录下执行。\n结语 以上。\n",
  "wordCount" : "1548",
  "inLanguage": "en",
  "datePublished": "2015-09-30T19:24:13Z",
  "dateModified": "2015-09-30T19:24:13Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://cp0000.github.io/posts/ios9-quick-actions-shortcut/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CP0000 - 一只特立独行的猪",
    "logo": {
      "@type": "ImageObject",
      "url": "https://cp0000.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://cp0000.github.io/" accesskey="h" title="CP0000 - 一只特立独行的猪 (Alt + H)">CP0000 - 一只特立独行的猪</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      3D-Touch(1) iOS9 Quick Actions Shortcut
    </h1>
    <div class="post-meta"><span title='2015-09-30 19:24:13 +0000 UTC'>September 30, 2015</span>

</div>
  </header> 
  <div class="post-content"><p>新的iPhone6s, iPhone6s P 在不久之前的 WWDC 上面发布了，这个版本的iPhone最大的卖点应该是在它的屏幕拥有了 3D Touch 的功能。iOS 9 中已经包含了这一硬件功能所提供API，3D Touch API分成三个部分: Quick Actions， peek and pop,以及 Pressure Sensitivity.考虑到苹果的一贯作风，如果你的APP中集成iPhone的新特性，新的API，被苹果商店推荐的概率也会增大一点。本文将为大家介绍如何快速的添加 Quick Actions shortcut 功能。</p>
<h2 id="home-screen-quick-actions">Home Screen Quick Actions<a hidden class="anchor" aria-hidden="true" href="#home-screen-quick-actions">#</a></h2>
<p>通过主屏幕的应用icon，可以用 3D Touch 呼出一个快捷列表，用户可通过这个列表快速定位应用功能模块。iOS9提供了两种屏幕标签，分别是静态标签和动态标签。且iOS9最多展示四个快捷键给用户，系统会优先展示静态的快捷键，当静态的快捷键不够四个，会添加动态的快捷键到列表。</p>
<h3 id="静态快捷键的添加">静态快捷键的添加<a hidden class="anchor" aria-hidden="true" href="#静态快捷键的添加">#</a></h3>
<p>打开 Info.plist, 在该文件中添加如下键值：</p>
<p><img loading="lazy" src="http://cp0000.github.io/assets/static_shortcut.jpg" alt="static_shortcut"  />
</p>
<p>添加一个key为<code>UIApplicationShortcutItems</code>的数组，数组中添件的元素就是静态标签，每个标签我们可以配置下面的键值：</p>
<ul>
<li>UIApplicationShortcutItemType (required) : 快捷标签的唯一字符串标示</li>
<li>UIApplicationShortcutItemTitle (required): 快捷标签的标题，会显示在UI上</li>
<li>UIApplicationShortcutItemSubtitle (optional): 副标题，会显示在UI上</li>
<li>UIApplicationShortcutItemIconType (optional): 系统提供的icon，全部列表 <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIApplicationShortcutIcon_Class/index.html#//apple_ref/c/tdef/UIApplicationShortcutIconType">UIApplicationShortcutIcon_Class</a></li>
<li>UIApplicationShortcutItemIconFile (optional): 自定义icon（如果填写了该项，则系统自动ignore UIApplicationShortcutItemIconType）。图片需要时正方形的，35<em>35的倍数（试过100</em>100也是Ok的），并且单色。</li>
<li>UIApplicationShortcutItemUserInfo (optional): 传值用</li>
</ul>
<p>详情请<a href="https://developer.apple.com/library/prerelease/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple_ref/doc/uid/TP40009252-SW36">看这里</a></p>
<p>当在Info.plist 中添加好了需要的标签之后。运行程序便可得到以下效果：</p>
<p><img loading="lazy" src="http://cp0000.github.io/assets/shortcut2.jpg" alt="shortcut2"  />
</p>
<p>P.S 关于如何在模拟器中调试ShortCutMenu，请见文章最后一节<a href="#jump">模拟器上测试Shortcut</a>。</p>
<h3 id="动态标签的添加">动态标签的添加<a hidden class="anchor" aria-hidden="true" href="#动态标签的添加">#</a></h3>
<p>所谓动态标签，就是我们可以通过代码来添加标签，相关的类有：</p>
<ul>
<li>UIApplicationShortcutItem 3DTouch标签的类</li>
<li>UIApplicationShortcutIcon 标签中图片Icon的类</li>
</ul>
<h3 id="响应标签的行为">响应标签的行为<a hidden class="anchor" aria-hidden="true" href="#响应标签的行为">#</a></h3>
<p>当点击标签进入应用时，我们需要在代码对不同标签的做处理。在iOS 9 中，UIApplicationDelegate 新增了方法：</p>
<pre><code>- (void) application:(UIApplication *)application performActionForShortcutItem:(UIApplicationShortcutItem *)shortcutItem completionHandler:(void (^)(BOOL))completionHandler
</code></pre>
<p>当通过标签进入APP时，appdelegate中会回调到这个函数。当你处理完了标签需要做的工作之后，需要执行 <code>completionHandler</code>。</p>
<p>这里有一个地方需要特别注意一下，用户按下标签进入应用要分成两种状况：启动APP，APP从后台回到前台。你需要在 <code>application:didFinishLaunchingWithOptions:</code> 或 <code>application:willFinishLaunchingWithOptions:</code> 中的一个去检查字典 <code>launchOptions</code> 中是否包含了<code>UIApplicationLaunchOptionsShortcutItemKey</code>。如果有这个key，则表示是启动app。你需要在此时设置好APP的view层级，并且为 application:willFinishLaunchingWithOptions: 返回 false。这样就可以阻止 <code>application(_:performActionForShortcutItem:completionHandler:)</code> 被调用，避免标签处理逻辑被处理两次。</p>
<p>以下是 sample code (Objective_c)，demo 放在github上面<a href="https://github.com/cp0000/shortcutDemo">shortcutDemo</a></p>
<p>另外苹果官方提供了 swift 的<a href="https://developer.apple.com/library/prerelease/ios/samplecode/ApplicationShortcuts/Introduction/Intro.html">sample code</a></p>
<pre><code>#import &quot;AppDelegate.h&quot;

@interface AppDelegate ()
@property (nonatomic, retain) UIApplicationShortcutItem * launchedShortcutItem;

@end

@implementation AppDelegate

- (BOOL) handledShortCutItem: (UIApplicationShortcutItem *) shortcutItem
{
    BOOL handled = NO;
    if (!shortcutItem.type) return NO;
    if (![shortcutItem.type isKindOfClass:[NSString class]]) return NO;

    UIAlertController * alertController = [UIAlertController alertControllerWithTitle:@&quot;Shortcut Handled&quot; message:shortcutItem.localizedTitle preferredStyle: UIAlertControllerStyleAlert];
    UIAlertAction *alertAction = [UIAlertAction actionWithTitle:@&quot;OK&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
    }];
    [alertController addAction: alertAction];

    [self.window.rootViewController presentViewController: alertController animated: YES completion:nil];

    return handled;
}

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    // Override point for customization after application launch.
//    Dynamic Shortcuts
    UIApplicationShortcutIcon * addIcon = [UIApplicationShortcutIcon iconWithType: UIApplicationShortcutIconTypeAdd];//Icons should be square, single color,

    UIApplicationShortcutItem * addItem = [[UIApplicationShortcutItem alloc]initWithType: @&quot;add&quot; localizedTitle: @&quot;Add&quot; localizedSubtitle: nil icon: addIcon userInfo: nil];

    [UIApplication sharedApplication].shortcutItems = @[addItem];

    BOOL shouldPerformAdditionalDelegateHandling    = YES;
    if (launchOptions[UIApplicationLaunchOptionsShortcutItemKey]) {
        UIApplicationShortcutItem * shortcutItem = launchOptions[UIApplicationLaunchOptionsShortcutItemKey];
        self.launchedShortcutItem   = shortcutItem;
        // This will block &quot;performActionForShortcutItem:completionHandler&quot; from being called.
        shouldPerformAdditionalDelegateHandling     = NO;
    }
    return shouldPerformAdditionalDelegateHandling;
}

- (void)applicationWillEnterForeground:(UIApplication *)application {
}

- (void)applicationDidBecomeActive:(UIApplication *)application {
    if(!self.launchedShortcutItem) {
        return;
    }
    [self handledShortCutItem: self.launchedShortcutItem];

    self.launchedShortcutItem   = nil;
}

- (void) application:(UIApplication *)application performActionForShortcutItem:(UIApplicationShortcutItem *)shortcutItem completionHandler:(void (^)(BOOL))completionHandler
{
    BOOL result = [self handledShortCutItem: shortcutItem];
    completionHandler(result);
}

@end
</code></pre>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="模拟器上测试shortcuts">模拟器上测试Shortcuts<a hidden class="anchor" aria-hidden="true" href="#模拟器上测试shortcuts">#</a></h3>
<p>Xcode7.0 的模拟器是没办法之间触发出 3D Touch 事件的，好在有人开发出了插件<a href="https://github.com/DeskConnect/SBShortcutMenuSimulator">SBShortcutMenuSimulator</a>.实用也很简单，只需要follow readme 中的 usage 便可。以下摘录</p>
<pre><code>git clone https://github.com/DeskConnect/SBShortcutMenuSimulator.git
cd SBShortcutMenuSimulator
make

xcrun simctl spawn booted launchctl debug system/com.apple.SpringBoard --environment DYLD_INSERT_LIBRARIES=$PWD/SBShortcutMenuSimulator.dylib
xcrun simctl spawn booted launchctl stop com.apple.SpringBoard

echo 'com.apple.mobilecal' | nc 127.0.0.1 8000
</code></pre>
<p>&lsquo;com.apple.mobilecal&rsquo; 替换成你需要测试的app的bundle就可以了，例如我的是 <code>chengpei.shortcutDemo</code></p>
<pre><code>echo 'chengpei.shortcutDemo' | nc 127.0.0.1 8000
</code></pre>
<p>上面的命令全都在clone的SBShortcutMenuSimulator目录下执行。</p>
<h3 id="结语">结语<a hidden class="anchor" aria-hidden="true" href="#结语">#</a></h3>
<p>以上。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>CP0000</span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
